<!DOCTYPE html>
<html lang="en">

<head>
	<link rel="icon" href="images/icons/dw_icon_small.png?v=2" type="image/png" />
	<link rel="apple-touch-icon" href="images/icons/dw_icon.png?v=2" type="image/png" />

	<meta charset="UTF-8" />
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">
	<meta name="description" content="Welcome to the unofficial Dungeon World Character Sheet!" />
	<meta name="author" content="Godmar02" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<meta property="og:url" content="https://github.com/godmar02/godmar02.github.io" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="Dungeon World Character Sheet" />
	<meta property="og:description" content="Welcome to the unofficial Dungeon World Character Sheet!" />
	<meta property="og:image" content="https://github.com/godmar02/godmar02.github.io/images/icons/dw_icon.png" />

	<title>Dungeon World Character Sheet</title>

	<style>
		button {
			font-size: 17px;
			background-color: #eee;
			color: black;
			padding: 7px 11px;
			border: 1px solid #696969;
			border-radius: 5px;
			cursor: pointer;
			height: 40px;
			min-width: 40px;
		}

		button:active {
			background-color: lightgray;
		}

		button.deleteRowButton {
			background: url(images/icons/bin.png) center/15px no-repeat;
		}

		div.ans {
			border-bottom: 1px solid;
			float: left;
			width: 100%;
			display: none;
		}

		div.expi {
			text-align: right;
			float: right;
			padding-right: 8px;
			width: 1%;
		}

		div.p {
			font-size: 17px;
			float: left;
			width: 92%;
		}

		div.que {
			border-bottom: 1px solid;
			padding-top: 14px;
			padding-bottom: 14px;
			float: left;
			width: 100%
		}

		h2 {
			display: inline;
		}

		p {
			max-height: 999999px;
			font-size: 17px;
		}

		select,
		input {
			display: inline-block;
			-moz-appearance: none;
			-webkit-appearance: none;
			appearance: none;
			position: relative;
			box-sizing: border-box;
			font-size: 17px;
			width: 100%;
			min-width: 100px;
			height: 40px;
			padding: 5px;
			border: 1px solid #A9A9A9;
			border-radius: 5px;
			margin: 0;
			text-align: center;
		}

		select {
			background: url(images/icons/down_arrow.png) no-repeat right;
		}

		select::-ms-expand {
			display: none;
		}

		table {
			border-style: solid;
			border-width: medium;
			border-radius: 5px;
		}

		th {
			background-color: black;
			color: white;
			font-size: 17px;
			text-align: center;
			padding: 5px;
			border-radius: 5px;
		}

		.grey {
			background-color: lightgrey;
		}

		.shortfield {
			width: 80px;
		}

		.tallfield {
			height: 80px;
		}

		.textpress {
			padding-top: 4px;
			padding-bottom: 4px;
		}

		.textpress:active {
			background-color: lightgray;
		}

		.checkmark {
			position: absolute;
			height: 18px;
			width: 18px;
			top: 10px;
			right: 2px;
			background-color: #eee;
			border: 1px solid #696969;
			border-radius: 5px;
		}

		.checkmark:after {
			content: "";
			position: absolute;
			display: none;
		}
	</style>

</head>

<body onload="loadelements()">
	<script>
		function loadelements() {
			document.getElementById("main").style.visibility = "visible";
		}
	</script>
	<noscript>
		<h2>Dungeon World Character Sheet</h2>
		<i style="display: inline-block">(by Godmar02)</i>
		<p>Javascript is required to use the Character Sheet</p>
		<p>If you are worried about potential security issues, you can always review the code at the project's <a href="https://github.com/godmar02/godmar02.github.io/index.html">GitHub repository</a>.</p>
	</noscript>
	<div id="main" style="visibility: hidden;">
		<h2>Dungeon World Character Sheet</h2>
		<br>
		<span style="display: inline-block"><i>v0.7.12 by Godmar02</i></span>
		<br>
		<br>
		<form id="values">
			<div id="attvalues">
				<table style="width: 50%;" id="sheetHeaderTable">
					<tr>
						<th style="width: 25%;">
							<label for="player">PLAYER</label>
						</th>
						<td>
							<select id="player" style="position: relative" tabindex="-1">
								<option value="Jon">Jon</option>
								<option value="Mark">Mark</option>
								<option value="Nath">Nath</option>
								<option value="Rich">Rich</option>
								<option value="Tom">Tom</option>
								<option value="Tony">Tony</option>
							</select>
						</td>
					</tr>
					<tr>
						<th style="width: 25%;">
							<label for="adventure">ADVENTURE</label>
						</th>
						<td>
							<select id="adventure" style="position: relative" tabindex="-1">
								<option value="Grease Lightning">Grease Lightning</option>
							</select>
						</td>
					</tr>
				</table>
				<br>
				<table style="width: 100%;" id="basicInfoTable">
					<tr>
						<th style="width: 25%;">
							<label for="charaName">CHARACTER</label>
						</th>
						<td>
							<input type="text" id="charaName">
						</td>
					</tr>

					<tr>
						<th><label for="backstory">BACKSTORY</label></th>
						<td><input type="text" id="backstory"></td>
					</tr>
					<tr>
						<th><label for="look">LOOK</label></th>
						<td><input type="text" id="look"></td>
					</tr>

				</table>
				<br>
				<table style="width: 100%;" id="additionalInfoTable">
					<tr>
						<th>
							<label for="dwClass">CLASS</label>
						</th>
						<td>
							<select id="dwClass" style="position: relative" tabindex="-1">
								<option value="Barbarian">Barbarian</option>
								<option value="Bard">Bard</option>
								<option value="Cleric">Cleric</option>
								<option value="Druid">Druid</option>
								<option value="Fighter">Fighter</option>
								<option value="Paladin">Paladin</option>
								<option value="Ranger">Ranger</option>
								<option value="Thief">Thief</option>
								<option value="Wizard">Wizard</option>
							</select>
						</td>
					</tr>

					<tr>
						<th>
							<label for="race">RACE</label>
						</th>
						<td>
							<select id="race" style="position: relative" tabindex="-1">
								<option value="Dwarf">Dwarf</option>
								<option value="Elf">Elf</option>
								<option value="Goblin">Goblin</option>
								<option value="Halfling">Halfling</option>
								<option value="Human">Human</option>
							</select>
						</td>
						<td>
							<input type="text" id="raceAttribute" class="grey" readonly>
						</td>
					</tr>

					<tr>
						<th>
							<label for="alignment">ALIGNMENT</label>
						</th>
						<td>
							<select id="alignment" style="position: relative" tabindex="-1">
							</select>
						</td>
						<td>
							<input type="text" id="alignmentAttribute" class="grey" readonly>
						</td>
					</tr>
				</table>
				<br>
				<table id="basicAttributesTable">
					<tr>
						<th>
							<label for="Level">LEVEL</label>
						</th>
						<td>
							<input type="number" min="1" onchange="setMaxXP()" class="shortfield" id="level">
						</td>
						<th>
							<label for="XP">XP</label>
						</th>
						<td>
							<input type="number" min="0" class="shortfield" id="XP">
						</td>
						<td>
							<input type="text" class="shortfield grey" readonly id="maxXP">
						</td>
					</tr>
				</table>
				<br>
				<table style="width: 100%;" id="abilitiesTable">
					<thead>
						<tr>
							<th><label for="str">STR</label></th>
							<th><label for="dex">DEX</label></th>
							<th><label for="con">CON</label></th>
							<th><label for="int">INT</label></th>
							<th><label for="wis">WIS</label></th>
							<th><label for="cha">CHA</label></th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<input type="number" min="1" max="18" onchange="setModifier('str');" id="str"><br>
								<input type="text" class="grey tallfield" readonly id="strModifier"><br>
								<select onchange="setModifier('str')" style="position: relative" tabindex="-1" id="strAffliction">
									<option value="Unafflicted">Unafflicted</option>
									<option value="Weak">Weak</option>
								</select>
							</td>
							<td>
								<input type="number" min="1" max="18" onchange="setModifier('dex')" id="dex"><br>
								<input type="text" class="grey tallfield" readonly id="dexModifier"><br>
								<select onchange="setModifier('dex')" style="position: relative" tabindex="-1" id="dexAffliction">
									<option value="Unafflicted">Unafflicted</option>
									<option value="Shaky">Shaky</option>
								</select>
							</td>
							<td>
								<input type="number" min="1" max="18" onchange="setModifier('con');" id="con"><br>
								<input type="text" class="grey tallfield" readonly id="conModifier"><br>
								<select onchange="setModifier('con')" style="position: relative" tabindex="-1" id="conAffliction">
									<option value="Unafflicted">Unafflicted</option>
									<option value="Shaky">Sick</option>
								</select>
							</td>
							<td>
								<input type="number" min="1" max="18" onchange="setModifier('int')" id="int"><br>
								<input type="text" class="grey tallfield" readonly id="intModifier"><br>
								<select onchange="setModifier('int')" style="position: relative" tabindex="-1" id="intAffliction">
									<option value="Unafflicted">Unafflicted</option>
									<option value="Shaky">Stunned</option>
								</select>
							</td>
							<td>
								<input type="number" min="1" max="18" onchange="setModifier('wis')" id="wis"><br>
								<input type="text" class="grey tallfield" readonly id="wisModifier"><br>
								<select onchange="setModifier('wis')" style="position: relative" tabindex="-1" id="wisAffliction">
									<option value="Unafflicted">Unafflicted</option>
									<option value="Shaky">Confused</option>
								</select>
							</td>
							<td>
								<input type="number" min="1" max="18" onchange="setModifier('cha')" id="cha"><br>
								<input type="text" class="grey tallfield" readonly id="chaModifier"><br>
								<select onchange="setModifier('cha')" style="position: relative" tabindex="-1" id="chaAffliction">
									<option value="Unafflicted">Unafflicted</option>
									<option value="Shaky">Scarred</option>
								</select>
							</td>
						</tr>
					</tbody>
				</table>
				<br>
				<table id="damageArmourFunds">
					<thead>
						<tr>
							<th><label for="damage">DAMAGE</label></th>
							<th><label for="armour">ARMOUR</label></th>
							<th colspan="2"><label for="HP">HP</label></th>
							<th><label for="Funds">FUNDS</label></th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<input type="text" class="shortfield grey" readonly id="damage">
							</td>
							<td>
								<input type="number" min="0" class="shortfield" id="armour">
							</td>
							<td>
								<input type="number" min="0" class="shortfield" id="HP">
							</td>
							<td>
								<input type="text" class="shortfield grey" readonly id="maxHP">
							</td>
							<td><input type="number" class="shortfield" min="0" id="Funds"></td>
						</tr>
					</tbody>
				</table>
				<br>
				<table style="width: 100%;" id="bondsTable">
					<thead>
						<tr>
							<th style="width: 100%;"><label for="bonds">BONDS</label></th>
							<td>
								<button type="button" onclick="addRow('bondsTable')" id="addBond">+</button>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><input type="text" id="bond0"></td>
							<td><button type="button" class="deleteRowButton" onclick="deleteRow('bondsTable', 0)" id="deleteBond0"></button></td>
						</tr>
					</tbody>
					<tfoot></tfoot>
				</table>
				<br>
				<table style="width: 100%;" id="gearTable">
					<thead>
						<tr>
							<th colspan="4"><label for="gear">GEAR</label></th>
						</tr>
						<tr>
							<th style="width: 100%;"><label for="items">ITEM</label></th>
							<th colspan="2"><label for="weight">WEIGHT</label></th>
							<td>
								<button type="button" onclick="addRow('gearTable')" id="addItem">+</button>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><input type="text" id="item0"></td>
							<td colspan="2"><input type="number" min="0" id="itemWeight0"></td>
							<td><button type="button" class="deleteRowButton" onclick="deleteRow('gearTable', 0)" id="deleteItem0"></button></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th><label for="load">LOAD</label></th>
							<td><input type="text" class="grey" readonly id="load"></td>
							<td><input type="text" class="grey" readonly id="maxLoad"></td>
						</tr>
					</tfoot>
				</table>
				<br>
				<table style="width: 100%;" id="classFeaturesTable">
					<thead>
						<tr>
							<th style="width: 100%;"><label for="classFeatures">CLASS FEATURES</label></th>
							<td>
								<button type="button" onclick="addRow('classFeaturesTable')" id="addClassFeature">+</button>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<input type="text" id="classFeature0">
							</td>
							<td>
								<button type="button" class="deleteRowButton" onclick="deleteRow('classFeaturesTable', 0)" id="deleteClassFeature0"></button>
							</td>
						</tr>
					</tbody>
					<tfoot></tfoot>
				</table>
				<br>
				<button type="button" onclick="saveCharacter()" id="saveCharacter">Save</button>
				<button type="button" onclick="loadCharacter()" id="loadCharacter">Load</button>
				<button type="button" onclick="clearCharacter()" id="clearCharacter">Clear</button>
			</div>
		</form>
		<p id="faqLinks">For information on Character Sheet usage and useful guides or links, read the <a href="#top" onclick="return show('faq', 'main')" target="_top">FAQ</a>.</p>
	</div>
	<div id="faq" style="display:none; max-width: 800px">
		<h2>Frequently Asked Questions</h2><br /><br />

		<p><a href="javascript:;" class="textpress" style="float: left" onclick="return show('main', 'faq')" target="_top">&lt;&lt;&lt; Back to the Character Sheet!</a><a href="javascript:;" class="textpress" id="expandallindicator1" style="float: right"
				onclick="expandall(1)">+ Expand all</a></p>

		<div class="que" style="border-top: 1px solid; margin-top: 25px;" onclick="expandcontainer(0)">
			<div class="p"><b>How do I use the Character Sheet?</b></div>
			<div id="expandindicator0" class="expi">+</div>
		</div>
		<div id="answercontainer0" class="ans">
			<p>TBC.</p>
		</div>

		<div class="que" onclick="expandcontainer(1)">
			<div class="p"><b>Can I use the Character Sheet offline?</b></div>
			<div id="expandindicator1" class="expi">+</div>
		</div>
		<div id="answercontainer1" class="ans">
			<p>Yes you can. Follow these instructions:<br /><br />
				<i>Any platform</i>: If you don't quit your browser app, you should be able to use the Character Sheet without internet access as long as the browser stays in memory. The Character Sheet is a static website and doesn't require the use of
				bandwith. Otherwise, most desktop browsers support saving pages so you can store them offline for later use. Some mobile browsers like Chrome also support this.<br /><br />
				<i>PC</i>: Go to the Character Sheet website, right-click on any empty space and press Save as... or Save Page As... to get the index.html file. Alternatively, you can download the file from <a
					href="https://github.com/godmar02/godmar02.github.io" target="_blank">GitHub</a>. After you downloaded it, simply drag the .html file into your browser to run the Character Sheet.<br /><br />
				<i>iOS</i>: Repeat the PC process. Download an app called HTML Viewer Q by Spica. Connect your device to iTunes. In iTunes, select your device and go to File Sharing. Select HTML Viewer, press Add File and find the .html file you downloaded
				on your PC. Disconnect your device, run HTML Viewer and press on a book-like icon at the bottom right. Switch from Bookmarks to Files and select the downloaded .html file.<br /><br />
				<i>Android</i>: Repeat the PC process. If you used the PC, connect your device and transfer the .html file to it. Download the HTML Viewer app by Yogev Haham and run it. Press the paper-like icon at the upper right. Find and select the
				downloaded .html file, then press the browser view icon in the upper right.</p>
		</div>

		<div class="que" onclick="expandcontainer(2)">
			<div class="p"><b>Who are you?</b></div>
			<div id="expandindicator2" class="expi">+</div>
		</div>
		<div id="answercontainer2" class="ans">
			<p>Never you mind.</p>
		</div>

		<div style="float: left; position: relative; top: 6px; width: 100%">
			<p><a href="javascript:;" class="textpress" id="expandallindicator2" style="float: right" onclick="expandall(2)">+ Expand all</a></p><br />

			<p><b>Links:</b></p>
			<a href="https://a-dungeon-world.fandom.com/wiki/A_Dungeon_World_Wiki" target="_blank">Wiki</a><br />
			<a href="https://www.reddit.com/r/DungeonWorld/" target="_blank">Reddit</a><br /><br />

			<a href="https://dungeon-world.com/" target="_blank">Official Game Website</a><br />
			<a href="https://a-dungeon-world.fandom.com/wiki/Free_Playbooks" target="_blank">Free Playbooks</a><br />
			<a href="https://drive.google.com/file/d/1O3-dNuIxoiVkIrH20LIzzA38r9sVsiEI/view?usp=sharing" target="_blank">Dungeon World First Edition by Sage LaTorra and Adam Koebel</a><br />
			<a href="https://drive.google.com/file/d/1uAJBlTFUbpPcNRBI7iHQ3eD2QT5Hxhu3/view?usp=sharing" target="_blank">Dungeon World Playbooks v2.0 Designed by Stefan Grambart</a><br />
			<a href="https://drive.google.com/file/d/1S2ntGyK17puyC01XfxSGIIaq-1w86gkd/view?usp=sharing" target="_blank">Truncheon World: The Truncated Dungeon World by Sage LaTorra and Adam Koebel</a><br /><br />

			<a href="https://github.com/godmar02/godmar02.github.io" target="_blank">My GitHub</a><br />
			<a href="https://github.com/godmar02/godmar02.github.io/blob/master/Changelog.md" target="_blank">Changelog</a><br /><br />

			<a href="javascript:;" class="textpress" onclick="return show('main', 'faq')" target="_top">&lt;&lt;&lt; Back to the Character Sheet!</a></p><br />
		</div>
	</div>
	<!--jQuery-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

	<!-- SDKs and initialisation for Firebase: https://firebase.google.com/docs/web/setup#available-libraries-->
	<!--<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-firestore.js"></script>
	<script>
		// Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
		var firebaseConfig = {
			apiKey: "AIzaSyAIKYE0kZAcB5AzAmuiNB37BFjoiO6AY6g",
			authDomain: "dungeon-world-45d46.firebaseapp.com",
			projectId: "dungeon-world-45d46",
			storageBucket: "dungeon-world-45d46.appspot.com",
			messagingSenderId: "226498870916",
			appId: "1:226498870916:web:7cbaa58a3a178f1afeccd1",
			measurementId: "G-YTPKF0BTK9"
		};
		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);
		firebase.analytics();

		const firebase = require("firebase");
		// Required for side-effects
		require("firebase/firestore");
	</script>-->

	<!-- Custom Scripting -->
	<script>
		var answersexpanded = 0;

		function calcModifier(value) {

			var input = parseInt(value, 10);
			if ([1, 2, 3].indexOf(input) > -1) {
				return -3
			} else if ([4, 5].indexOf(input) > -1) {
				return -2
			} else if ([6, 7, 8].indexOf(input) > -1) {
				return -1
			} else if ([9, 10, 11, 12].indexOf(input) > -1) {
				return 0
			} else if ([13, 14, 15].indexOf(input) > -1) {
				return 1
			} else if ([16, 17].indexOf(input) > -1) {
				return 2
			} else if (input == 18) {
				return 3
			} else {
				return "ERROR"
			}
		}

		function setModifier(ability) {
			var ab = document.getElementById(ability).value;
			var abAffliction = document.getElementById(ability + "Affliction").value;

			/*-1 if afflicted*/
			if (abAffliction == "Unafflicted") {
				var afflicted = 0;
			} else {
				var afflicted = 1;
			}

			var modifier = calcModifier(ab) - afflicted;

			if (modifier > 0) {
				var stringModifier = "+" + modifier
			} else {
				var stringModifier = modifier
			}

			document.getElementById(ability + "Modifier").value = "[ " + stringModifier + " ]";

		}

		function setMaxXP() {
			var lvl = document.getElementById("level").value;
			var maxXP = parseInt(lvl, 10) + 7;
			document.getElementById("maxXP").value = "/ " + maxXP;
		}

		function singleRoll(sides) {
			var roll = Math.floor(Math.random() * sides) + 1;
			return roll;
		}

		function rollDice(sides, number) {
			var i;
			var total = 0;
			for (i = 1; i == number; i++) {
				total = total + singleRoll(sides);
			}
			return total;
		}

		function expandall(indicator) {
			if (document.getElementById("expandallindicator1").innerHTML == "+ Expand all") {
				var expandindicator = "";
				var answercontainer = "";

				for (i = 0; i < 3; i++) {
					expandindicator = "expandindicator" + i;
					answercontainer = "answercontainer" + i;
					if (document.getElementById(expandindicator).innerHTML == "+") {
						document.getElementById(expandindicator).innerHTML = "-";
						document.getElementById(answercontainer).style.display = "block";
					}
				}
				answersexpanded = 3;
				document.getElementById("expandallindicator1").innerHTML = "- Collapse all";
				document.getElementById("expandallindicator2").innerHTML = "- Collapse all";
				if (indicator == 2) {
					expandallindicator2.scrollIntoView(false);
				}
			} else {
				var expandindicator = "";
				var answercontainer = "";

				for (i = 0; i < 3; i++) {
					expandindicator = "expandindicator" + i;
					answercontainer = "answercontainer" + i;
					if (document.getElementById(expandindicator).innerHTML == "-") {
						document.getElementById(expandindicator).innerHTML = "+";
						document.getElementById(answercontainer).style.display = "none";
					}
				}
				answersexpanded = 0;
				document.getElementById("expandallindicator1").innerHTML = "+ Expand all";
				document.getElementById("expandallindicator2").innerHTML = "+ Expand all";
				if (indicator == 2) {
					expandallindicator2.scrollIntoView(false);
				}
			}
		}

		function expandcontainer(identifier) {
			var expandindicator = "expandindicator" + identifier;
			var answercontainer = "answercontainer" + identifier;

			if (document.getElementById(expandindicator).innerHTML == "+") {
				document.getElementById(expandindicator).innerHTML = "-";
				document.getElementById(answercontainer).style.display = "block";
				answersexpanded++;
				if (answersexpanded == 3) {
					document.getElementById("expandallindicator1").innerHTML = "- Collapse all";
					document.getElementById("expandallindicator2").innerHTML = "- Collapse all";
				}
			} else {
				document.getElementById(expandindicator).innerHTML = "+";
				document.getElementById(answercontainer).style.display = "none";
				answersexpanded--;
				if (answersexpanded > 0) {
					document.getElementById("expandallindicator1").innerHTML = "+ Expand all";
					document.getElementById("expandallindicator2").innerHTML = "+ Expand all";
				}
			}
		}

		function messageclear() {
			document.getElementById("note").innerHTML = "";
		}

		function show(shown, hidden) {
			document.body.scrollTop = document.documentElement.scrollTop = 0;
			document.getElementById(shown).style.display = 'block';
			document.getElementById(hidden).style.display = 'none';
			messageclear();
			return false;
		}

		function saveCharacter() {
			db.collection("users").add({
					first: "Ada",
					last: "Lovelace",
					born: 1815
				})
				.then(function(docRef) {
					console.log("Document written with ID: ", docRef.id);
				})
				.catch(function(error) {
					console.error("Error adding document: ", error);
				});
		}

		function loadCharacter() {
			db.collection("users").get().then((querySnapshot) => {
				querySnapshot.forEach((doc) => {
					console.log(`${doc.id} => ${doc.data()}`);
				});
			});
		}

		function clearCharacter() {
			db.collection("users").get().then((querySnapshot) => {
				querySnapshot.forEach((doc) => {
					console.log(`${doc.id} => ${doc.data()}`);
				});
			});
		}

		$(function() {

			$("#dwClass").change(function() {
				var $dwClass = $(this);
				var $str = $("#str");
				var $con = $("#con");

				$.getJSON("data/classes.json", function(data) {
					var dwClass = $dwClass.val();
					var str = $str.val();
					var con = $con.val();
					var alignments = [];
					var damage = "";
					var baseLoad = 0;
					var baseHP = 0;
					var maxLoad = 0;
					var maxHP = 0;

					// set MaxLoad based upon strength
					if (str !== null) {
						str = parseInt(str, 10);
						baseLoad = data[dwClass].baseLoad;
						baseLoad = parseInt(baseLoad, 10);
						maxLoad = baseLoad + str;
						$("#maxLoad").val("/ " + maxLoad)
					}

					// set MaxHP based upon constitution
					if (con !== null) {
						con = parseInt(con, 10);
						baseHP = data[dwClass].baseHP;
						baseHP = parseInt(baseHP, 10);
						maxHP = baseHP + con;
						$("#maxHP").val("/ " + maxHP)
					}

					/*console.log(
						"dwClass: " + dwClass + '\n' +
						"str: " + str + '\n' +
						"con: " + con + '\n' +
						"alignments: " + alignments + '\n' +
						"damage: " + damage + '\n' +
						"baseLoad: " + baseLoad + '\n' +
						"maxLoad: " + maxLoad + '\n' +
						"baseHP: " + baseHP + '\n' +
						"maxHP: " + maxHP)*/

					// set damage based upon class
					damage = data[dwClass].damage;
					$("#damage").val(damage);

					// set alignments based upon class
					alignments = data[dwClass].alignments.split(",");
					var $alignments = $("#alignment");
					$alignments.empty();
					$.each(alignments, function(index, value) {
						$alignments.append("<option>" + value + "</option>");
					});

				});
			});

			$("#race").change(function() {
				var $race = $(this);
				var $dwClass = $("#dwClass");

				$.getJSON("data/classes.json", function(data) {

					var dwClass = $dwClass.val();
					var race = $race.val();
					var raceAttribute = "";

					raceAttribute = data[dwClass].raceAttributes[race];

					$("#raceAttribute").val(raceAttribute);
				});
			});

			$("#alignment").change(function() {
				var $alignment = $(this);
				var $dwClass = $("#dwClass");

				$.getJSON("data/classes.json", function(data) {

					var dwClass = $dwClass.val();
					var alignment = $alignment.val();
					var alignmentAttribute = "";

					alignmentAttribute = data[dwClass].alignmentAttributes[alignment];

					$("#alignmentAttribute").val(alignmentAttribute);
				});
			});

			$("#str").change(function() {
				var $str = $(this);
				var $dwClass = $("#dwClass");

				$.getJSON("data/classes.json", function(data) {

					var dwClass = $dwClass.val();
					var str = $str.val();
					var baseLoad = 0;
					var maxLoad = 0;

					str = parseInt(str, 10);
					baseLoad = data[dwClass].baseLoad;
					baseLoad = parseInt(baseLoad, 10);
					maxLoad = baseLoad + str;

					/*console.log(
						"dwClass: " + dwClass + '\n' +
						"str: " + str + '\n' +
						"baseLoad: " + baseLoad + '\n' +
						"maxLoad: " + maxLoad)*/

					$("#maxLoad").val("/ " + maxLoad);
				});
			});

			$("#con").change(function() {
				var $con = $(this);
				var $dwClass = $("#dwClass");

				$.getJSON("data/classes.json", function(data) {

					var dwClass = $dwClass.val();
					var con = $con.val();
					var baseHP = 0;
					var maxHP = 0;

					con = parseInt(con, 10);
					baseHP = data[dwClass].baseHP;
					baseHP = parseInt(baseHP, 10);
					maxHP = baseHP + con;

					/*console.log(
						"dwClass: " + dwClass + '\n' +
						"con: " + con + '\n' +
						"baseHP: " + baseHP + '\n' +
						"maxHP: " + maxHP)*/

					$("#maxHP").val("/ " + maxHP);
				});
			});

		});

		function arrangeRows(tableID) {
			var tbl = document.getElementById(tableID);
			var headerRowCount = tbl.getElementsByTagName('thead')[0].getElementsByTagName('tr').length;
			var bodyRowCount = tbl.getElementsByTagName('tbody')[0].getElementsByTagName('tr').length;
			var templateRow = tbl.rows[headerRowCount];
			var colCount = tbl.rows[headerRowCount].cells.length;

			for (var i = headerRowCount; i < 1 + headerRowCount + bodyRowCount; i++)
				for (var j = 0; i < colCount; i++) {

					// set new ID based upon triming existing cellid of format itemN
					var templateCellID = templateCell.children[0].id;
					var templateCellIDPrefix = templateCellID.slice(0, -1);
					var rowID = i - headerRowCount
					var rowNum = i + 1
					var cell = tbl.rows[i].cells[j];
					var cellID = templateCellIDPrefix + rowID;
					cell.children[0].id = cellID

					// set new onclick value for any buttons of format function(...N)
					if (cell.children[0].type == "button") {
						var currentOnClick = document.getElementById(cellID).getAttribute("onclick");
						var currentOnClickkPrefix = currentCellOnClick.slice(0, -2);
						var newOnClick = currentOnClickkPrefix + rowNum + ")";
						console.log("currentOnClick: " + currentOnClick);
						console.log("currentOnClickkPrefix: " + currentOnClickkPrefix);
						console.log("newOnClick: " + newOnClick);
						document.getElementById(cellID).setAttribute("onclick", newOnClick);
					}
				}
		}

		function addRow(tableID) {

			// This works for any generic row but also assumes that any table row cells
			// you are copying has an id of format id="tableid0" etc and any buttons
			// have an onclick format of onclick=function(stuff... , 0) so that both
			// these numbers can be incremented by 1 each time
			// Note table items are zero indexed
			var tbl = document.getElementById(tableID);
			var bodyRowCount = tbl.getElementsByTagName('tbody')[0].getElementsByTagName('tr').length;
			var headerRowCount = tbl.getElementsByTagName('thead')[0].getElementsByTagName('tr').length;
			var footerRowCount = tbl.getElementsByTagName('tfoot')[0].getElementsByTagName('tr').length;
			var templateRow = tbl.rows[headerRowCount];
			var newRowColCount = templateRow.cells.length;
			var newRowID = bodyRowCount;

			/*console.log(
				"tableID: " + tableID + '\n' +
				"headerRowCount: " + headerRowCount + '\n' +
				"bodyRowCount: " + bodyRowCount + '\n' +
				"footerRowCount: " + footerRowCount + '\n' +
				"newRowColCount: " + newRowColCount + '\n' +
				"newRowID: " + newRowID
			);*/

			// to insert single row at end of tbody
			var tableBody = tbl.getElementsByTagName('tbody')[0];
			var newRow = tableBody.insertRow(-1);

			// to create columns in new row
			for (var i = 0; i < newRowColCount; i++) {

				//console.log("column: " + i)

				// to insert one column
				var newCell = newRow.insertCell(i);
				var templateCell = templateRow.cells[i];

				// set to same as first data row
				newCell.innerHTML = templateCell.innerHTML;

				// set new ID based upon triming existing cellid of format itemN
				var templateCellID = templateCell.children[0].id;
				var templateCellIDPrefix = templateCellID.slice(0, -1);
				var newCellID = templateCellIDPrefix + newRowID;
				//console.log("templateCellID: " + templateCellID);
				//console.log("templateCellIDPrefix: " + templateCellIDPrefix);
				//console.log("newCellID: " + newCellID);
				//console.log("newCell class: " + document.getElementById(newCellID).class);
				//console.log("newCell type: " + document.getElementById(newCellID).type);
				newCell.children[0].id = newCellID;

				// set colspan
				var templateCellColSpan = templateCell.getAttribute("colspan");
				//console.log("templateCellColSpan: " + templateCellColSpan);
				newCell.setAttribute("colspan", templateCellColSpan);

				// set new onclick value for any buttons of format function(...N)
				if (newCell.children[0].type == "button") {
					var currentCellOnClick = document.getElementById(newCellID).getAttribute("onclick");
					//console.log("newCell onclick: " + currentCellOnClick);
					//console.log("currentCellOnClick: " + currentCellOnClick);
					var currentCellOnClickkPrefix = currentCellOnClick.slice(0, -2);
					var newCellOnClick = currentCellOnClickkPrefix + newRowID + ")";
					//console.log("currentCellOnClickkPrefix: " + currentCellOnClickkPrefix);
					//console.log("newCellOnClick: " + newCellOnClick);
					document.getElementById(newCellID).setAttribute("onclick", newCellOnClick);
				}

				// Blank or uncheck content
				switch (newCell.children[0].type) {
					case "text":
						newCell.children[0].value = "";
						break;
					case "checkbox":
						newCell.children[0].checked = false;
						break;
					case "select-one":
						newCell.children[0].selectedIndex = 0;
						break;
				}
			}
		}

		function deleteRow(tableID, rowID) {
			var tbl = document.getElementById(tableID);
			var tableBody = tbl.getElementsByTagName('tbody')[0];
			var bodyRowCount = tableBody.getElementsByTagName('tr').length;
			console.log("bodyRowCount: " + bodyRowCount)
			if (bodyRowCount != 1) {
				console.log("Deleting Row: " + rowID)
				tableBody.deleteRow(rowID);
				//todo - rearrange remaining row ids etc
				//arrangeRows(tableID);
			} else {
				console.log("Cannot delete last row: " + tableID)
			}
		}
	</script>
</body>

</html>
